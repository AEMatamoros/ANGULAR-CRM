<nav class="navbar navbar-light bg-light">
    <a class="navbar-brand" href="#">
      <img src="assets/img/user.png" width="30" height="30" class="d-inline-block align-top" alt="">
      OWNSHOP
    </a>
    <ng-container *ngIf="user">
      <div class="form-inline">
          {{user.first_name}} &nbsp; {{user.last_name}}
          <button class="btn btn-success my-2 my-sm-0 mr-2 ml-2 d-none d-sm-block" (click)="logout()">Cerrar Sesion</button>
      </div> 
    </ng-container>
</nav>
<div class="container-fluid">
    <a class="center" [routerLink]="['/buys']">
        <button class="btn btn-success">Mis Compras</button>
    </a>
    <h2 class="center">Mi Carrito de Compras</h2>
<ng-container *ngIf="products">
<table class="table border">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nombre</th>
        <th scope="col">Desc</th>
        <th scope="col">Precio</th>
        <th scope="col">Categoria</th>
        <th scope="col">Unidades</th>
        <th scope="col">Fecha</th>
        <th scope="col">Opciones</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let product of products">
      <tr>
        <th scope="row">1</th>
        <td>{{product.productName}}</td>
        <td>{{product.productDesc}}</td>
        <td>{{product.price}}</td>
        <td>{{product.category}}</td>
        <td>{{product.units}}</td>
        <td>{{product.date | date:"dd-mm-yyyy"}}</td>
        <td><i class="far fa-trash-alt" style="color:red" (click)="remove(product['_id'])"></i></td>
      </tr>
    </ng-container>
    </tbody>
</table>
<div class="row">
    
    <div class="col-md-10 text-right">
        <label for="" class="mt-2">
            Total
        </label> 
    </div>
    <div class="col-md-1 text-right">
        <input type="text" value="{{total}}" class="form" readonly class="form-control">
    </div>
    <label for="" class="mt-2">L.</label>
    <div class="col-md-9"></div>
    <div class="col-md-3 text-right">
        <button class="btn btn-primary form-control" (click)="buy()">
            Comprar
        </button>
    </div>
</div>

</ng-container>
<ng-container  *ngIf="!products">
    <h3 class="center">Su carrito esta vacio</h3>
    <ng-container *ngIf="buyOk">
        <h2 style="color: #0D3918;" class="center">Compra realizada con exito.</h2>
    </ng-container>
    
</ng-container>
</div>
